define(["jquery","totara_form/form","totara_form/modernizr","core/config"],function(a,b,c,d){function e(a,c,d,f){return this instanceof e?(b.Element.apply(this,arguments),void(this.input=null)):new e(a,c,d,f)}return e.prototype=Object.create(b.Element.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return"[object UTC10Date]"},e.prototype.init=function(b){var e=this.id,f=[];if(this.input=a("#"+e),this.input.change(a.proxy(this.changed,this)),this.input.attr("required")&&!c.input.required){var g=a.Deferred();f.push(g),require(["totara_form/polyfill_required-lazy"],function(a){a.init(e),g.resolve()})}if(!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent)&&(this.input.attr("type","text"),!d.behatsiterunning)){var h=a.Deferred();f.push(h),require(["totara_form/polyfill_date-lazy"],function(a){a.init(e).done(function(){h.resolve()})})}if(this.input.attr("placeholder")&&!c.input.placeholder){var i=a.Deferred();f.push(i),require(["totara_form/polyfill_placeholder-lazy"],function(a){a.init(e),i.resolve()})}a.when.apply(a,f).done(b)},e.prototype.getValue=function(){return this.input.val()},e});